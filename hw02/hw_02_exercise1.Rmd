---
title: "hw_02"
output: 
  html_document:
    keep_md : true
editor options: 
  chunk_output_type: inline 
---

```{r load packages, warning = FALSE, message = FALSE}
library(gapminder)
library(tidyverse)
```

```{r}
# 1.1 Using filter() to subset gapminder data to three countries of choice in the 1970’s.
gapminder %>%
filter (year > 1970 & year < 1980 | year == 1970,  
           country == "China" | country == "India" | country == "Pakistan")
```

```{r}
# 1.2 Using the pipe operator %>% to select “country” and “gdpPercap” from filtered dataset in 1.1. 
gapminder %>%
filter (year > 1970 & year < 1980 | year == 1970,  
           country == "China" | country == "India" | country == "Pakistan") %>%
 select(country, gdpPercap)

```

```{r}
# 1.3 Filtering gapminder to all entries that have experienced a drop in life expectancy.
gapminder %>%
 group_by(country) %>% 
 mutate(lifeExp_decrease = lifeExp - lag(lifeExp, 1, order_by = year)) %>%
 drop_na() %>%
 filter(lifeExp_decrease < 0)
```

```{r}
# 1.4 Filtering gapminder so that it shows the max GDP per capita experienced by each country.

gapminder %>%
  group_by(country, continent) %>%
  summarise(maxGDPperCap = max(gdpPercap))
```

```{r}
# 1.5 Producing a scatterplot of Canada’s life expectancy vs. GDP per capita using ggplot2, without defining a new variable.

gapminder %>% 
  filter(country == "Canada") %>% 
  ggplot(aes(gdpPercap, lifeExp)) + 
  geom_point() +
  scale_x_log10("GDP per capita", labels = scales::dollar_format()) + 
  labs(title="Canada", y="Life Expectancy")
  
```

